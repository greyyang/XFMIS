<?xml version="1.0" encoding="utf-8" ?>
<!--============================================================================
//	CAUTION: This file is generated by IBatisNetGen.BatisMap.cst at 2009-4-14 11:30:53
//				Any manual editing will be lost in re-generation.
//===========================================================================-->
<sqlMap namespace="TabMaterialFlow"
	xmlns="http://ibatis.apache.org/mapping"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

  <alias>
    <typeAlias alias="TabMaterialFlow" type="MISEntity.Entity.TabMaterialFlow, MISEntity" />
  </alias>

  <resultMaps>
    <resultMap id="FullResultMap" class="TabMaterialFlow">
      <result property="MFID" column="MF_ID" dbType="int"/>
			<result property="MFSubProjectID" column="MF_SubProjectID" dbType="int"/>
			<result property="MFProject" column="MF_Project" dbType="int"/>
			<result property="MFAmount" column="MF_Amount" dbType="decimal"/>
			<result property="MFFlag" column="MF_Flag" dbType="int"/>
			<result property="MFMaterialID" column="MF_MaterialID" dbType="int"/>
			<result property="MFDatetime" column="MF_Datetime" dbType="datetime"/>
			<result property="MFMemo" column="MF_Memo" dbType="varchar"/>

    </resultMap>
  </resultMaps>

  <statements>
    <insert id="Insert" parameterClass="TabMaterialFlow">
      INSERT INTO Tab_MaterialFlow([MF_SubProjectID],[MF_Project],[MF_Amount],[MF_Flag],[MF_MaterialID],[MF_Datetime],[MF_Memo]) VALUES (#MFSubProjectID#,#MFProject#,#MFAmount#,#MFFlag#,#MFMaterialID#,#MFDatetime#,#MFMemo#)
      <selectKey resultClass="int" type="post" property="MFID" >
        select @@IDENTITY as value
      </selectKey>
    </insert>
    <update id="Update" parameterClass="TabMaterialFlow">
      UPDATE Tab_MaterialFlow SET MF_SubProjectID = #MFSubProjectID#, MF_Project = #MFProject#, MF_Amount = #MFAmount#, MF_Flag = #MFFlag#, MF_MaterialID = #MFMaterialID#, MF_Datetime = #MFDatetime#, MF_Memo = #MFMemo# WHERE 1=1			 AND MF_ID = #MFID# 

    </update>
    <delete id="Delete" parameterClass="int">
      DELETE [dbo].[Tab_MaterialFlow] WHERE MF_ID = #MFID#
    </delete>

    <select id="FindById" parameterClass="int" resultMap="FullResultMap">
      SELECT * FROM [dbo].[Tab_MaterialFlow] WHERE MF_ID = #MFID#
    </select>

    <select id="Find" parameterClass="System.Collections.Hashtable" resultMap="FullResultMap">
      SELECT * FROM [dbo].[Tab_MaterialFlow] WHERE 1=1
      <dynamic>
        				<isNotNull prepend="and" property="MFID">
					MF_ID = #MFID#
				</isNotNull>
				<isNotNull prepend="and" property="MFSubProjectID">
					MF_SubProjectID = #MFSubProjectID#
				</isNotNull>
				<isNotNull prepend="and" property="MFProject">
					MF_Project = #MFProject#
				</isNotNull>
				<isNotNull prepend="and" property="MFAmount">
					MF_Amount = #MFAmount#
				</isNotNull>
				<isNotNull prepend="and" property="MFFlag">
					MF_Flag = #MFFlag#
				</isNotNull>
				<isNotNull prepend="and" property="MFMaterialID">
					MF_MaterialID = #MFMaterialID#
				</isNotNull>
				<isNotNull prepend="and" property="MFDatetime">
					MF_Datetime = #MFDatetime#
				</isNotNull>
				<isNotNull prepend="and" property="MFMemo">
					MF_Memo = #MFMemo#
				</isNotNull>

      </dynamic>
    </select>

    <select id="FindCount" parameterClass="System.Collections.Hashtable" resultClass="int">
      SELECT COUNT(*) FROM [dbo].[Tab_MaterialFlow] WHERE 1=1
      <dynamic>
        				<isNotNull prepend="and" property="MFID">
					MF_ID = #MFID#
				</isNotNull>
				<isNotNull prepend="and" property="MFSubProjectID">
					MF_SubProjectID = #MFSubProjectID#
				</isNotNull>
				<isNotNull prepend="and" property="MFProject">
					MF_Project = #MFProject#
				</isNotNull>
				<isNotNull prepend="and" property="MFAmount">
					MF_Amount = #MFAmount#
				</isNotNull>
				<isNotNull prepend="and" property="MFFlag">
					MF_Flag = #MFFlag#
				</isNotNull>
				<isNotNull prepend="and" property="MFMaterialID">
					MF_MaterialID = #MFMaterialID#
				</isNotNull>
				<isNotNull prepend="and" property="MFDatetime">
					MF_Datetime = #MFDatetime#
				</isNotNull>
				<isNotNull prepend="and" property="MFMemo">
					MF_Memo = #MFMemo#
				</isNotNull>

      </dynamic>
    </select>
  </statements>
</sqlMap>