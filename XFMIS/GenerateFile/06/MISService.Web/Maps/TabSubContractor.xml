<?xml version="1.0" encoding="utf-8" ?>
<!--============================================================================
//	CAUTION: This file is generated by IBatisNetGen.BatisMap.cst at 2009-4-14 11:30:53
//				Any manual editing will be lost in re-generation.
//===========================================================================-->
<sqlMap namespace="TabSubContractor"
	xmlns="http://ibatis.apache.org/mapping"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

  <alias>
    <typeAlias alias="TabSubContractor" type="MISEntity.Entity.TabSubContractor, MISEntity" />
  </alias>

  <resultMaps>
    <resultMap id="FullResultMap" class="TabSubContractor">
      <result property="SCID" column="SC_ID" dbType="int"/>
			<result property="SCName" column="SC_Name" dbType="varchar"/>
			<result property="SCBankAccount" column="SC_BankAccount" dbType="varchar"/>
			<result property="SCBank" column="SC_Bank" dbType="varchar"/>
			<result property="SCContactor" column="SC_Contactor" dbType="varchar"/>
			<result property="SCTel" column="SC_Tel" dbType="varchar"/>

    </resultMap>
  </resultMaps>

  <statements>
    <insert id="Insert" parameterClass="TabSubContractor">
      INSERT INTO Tab_SubContractor([SC_Name],[SC_BankAccount],[SC_Bank],[SC_Contactor],[SC_Tel]) VALUES (#SCName#,#SCBankAccount#,#SCBank#,#SCContactor#,#SCTel#)
      <selectKey resultClass="int" type="post" property="SCID" >
        select @@IDENTITY as value
      </selectKey>
    </insert>
    <update id="Update" parameterClass="TabSubContractor">
      UPDATE Tab_SubContractor SET SC_Name = #SCName#, SC_BankAccount = #SCBankAccount#, SC_Bank = #SCBank#, SC_Contactor = #SCContactor#, SC_Tel = #SCTel# WHERE 1=1			 AND SC_ID = #SCID# 

    </update>
    <delete id="Delete" parameterClass="int">
      DELETE [dbo].[Tab_SubContractor] WHERE SC_ID = #SCID#
    </delete>

    <select id="FindById" parameterClass="int" resultMap="FullResultMap">
      SELECT * FROM [dbo].[Tab_SubContractor] WHERE SC_ID = #SCID#
    </select>

    <select id="Find" parameterClass="System.Collections.Hashtable" resultMap="FullResultMap">
      SELECT * FROM [dbo].[Tab_SubContractor] WHERE 1=1
      <dynamic>
        				<isNotNull prepend="and" property="SCID">
					SC_ID = #SCID#
				</isNotNull>
				<isNotNull prepend="and" property="SCName">
					SC_Name = #SCName#
				</isNotNull>
				<isNotNull prepend="and" property="SCBankAccount">
					SC_BankAccount = #SCBankAccount#
				</isNotNull>
				<isNotNull prepend="and" property="SCBank">
					SC_Bank = #SCBank#
				</isNotNull>
				<isNotNull prepend="and" property="SCContactor">
					SC_Contactor = #SCContactor#
				</isNotNull>
				<isNotNull prepend="and" property="SCTel">
					SC_Tel = #SCTel#
				</isNotNull>

      </dynamic>
    </select>

    <select id="FindCount" parameterClass="System.Collections.Hashtable" resultClass="int">
      SELECT COUNT(*) FROM [dbo].[Tab_SubContractor] WHERE 1=1
      <dynamic>
        				<isNotNull prepend="and" property="SCID">
					SC_ID = #SCID#
				</isNotNull>
				<isNotNull prepend="and" property="SCName">
					SC_Name = #SCName#
				</isNotNull>
				<isNotNull prepend="and" property="SCBankAccount">
					SC_BankAccount = #SCBankAccount#
				</isNotNull>
				<isNotNull prepend="and" property="SCBank">
					SC_Bank = #SCBank#
				</isNotNull>
				<isNotNull prepend="and" property="SCContactor">
					SC_Contactor = #SCContactor#
				</isNotNull>
				<isNotNull prepend="and" property="SCTel">
					SC_Tel = #SCTel#
				</isNotNull>

      </dynamic>
    </select>
  </statements>
</sqlMap>