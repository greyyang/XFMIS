<?xml version="1.0" encoding="utf-8" ?>
<!--============================================================================
//	CAUTION: This file is generated by IBatisNetGen.BatisMap.cst at 2009-4-14 11:30:53
//				Any manual editing will be lost in re-generation.
//===========================================================================-->
<sqlMap namespace="TabProjectInfo"
	xmlns="http://ibatis.apache.org/mapping"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

  <alias>
    <typeAlias alias="TabProjectInfo" type="MISEntity.Entity.TabProjectInfo, MISEntity" />
  </alias>

  <resultMaps>
    <resultMap id="FullResultMap" class="TabProjectInfo">
      <result property="PID" column="P_ID" dbType="int"/>
			<result property="PNO" column="P_NO" dbType="varchar"/>
			<result property="PName" column="P_Name" dbType="varchar"/>
			<result property="PConstruction" column="P_Construction" dbType="varchar"/>
			<result property="PBuilder" column="P_Builder" dbType="varchar"/>
			<result property="PState" column="P_State" dbType="varchar"/>
			<result property="PCustomer" column="P_Customer" dbType="varchar"/>
			<result property="PCategory" column="P_Category" dbType="varchar"/>
			<result property="PBusinessPlan" column="P_BusinessPlan" dbType="varchar"/>
			<result property="PDateTime" column="P_DateTime" dbType="datetime"/>
			<result property="PContractAmount" column="P_ContractAmount" dbType="decimal"/>
			<result property="PAuditors" column="P_Auditors" dbType="decimal"/>
			<result property="PAllocation" column="P_Allocation" dbType="decimal"/>
			<result property="PPlan" column="P_Plan" dbType="decimal"/>
			<result property="PRatio" column="P_Ratio" dbType="decimal"/>
			<result property="PDisclosure" column="P_Disclosure" dbType="datetime"/>
			<result property="PStartDate" column="P_StartDate" dbType="datetime"/>
			<result property="PEndDate" column="P_EndDate" dbType="datetime"/>
			<result property="PDesignChange" column="P_DesignChange" dbType="varchar"/>
			<result property="PDataIn" column="P_DataIn" dbType="varchar"/>
			<result property="PCompletion" column="P_Completion" dbType="varchar"/>
			<result property="PManager" column="P_Manager" dbType="varchar"/>
			<result property="PTel" column="P_Tel" dbType="varchar"/>
			<result property="PTeleComNO" column="P_TeleComNO" dbType="varchar"/>

    </resultMap>
  </resultMaps>

  <statements>
    <insert id="Insert" parameterClass="TabProjectInfo">
      INSERT INTO Tab_ProjectInfo([P_NO],[P_Name],[P_Construction],[P_Builder],[P_State],[P_Customer],[P_Category],[P_BusinessPlan],[P_DateTime],[P_ContractAmount],[P_Auditors],[P_Allocation],[P_Plan],[P_Ratio],[P_Disclosure],[P_StartDate],[P_EndDate],[P_DesignChange],[P_DataIn],[P_Completion],[P_Manager],[P_Tel],[P_TeleComNO]) VALUES (#PNO#,#PName#,#PConstruction#,#PBuilder#,#PState#,#PCustomer#,#PCategory#,#PBusinessPlan#,#PDateTime#,#PContractAmount#,#PAuditors#,#PAllocation#,#PPlan#,#PRatio#,#PDisclosure#,#PStartDate#,#PEndDate#,#PDesignChange#,#PDataIn#,#PCompletion#,#PManager#,#PTel#,#PTeleComNO#)
      <selectKey resultClass="int" type="post" property="PID" >
        select @@IDENTITY as value
      </selectKey>
    </insert>
    <update id="Update" parameterClass="TabProjectInfo">
      UPDATE Tab_ProjectInfo SET P_NO = #PNO#, P_Name = #PName#, P_Construction = #PConstruction#, P_Builder = #PBuilder#, P_State = #PState#, P_Customer = #PCustomer#, P_Category = #PCategory#, P_BusinessPlan = #PBusinessPlan#, P_DateTime = #PDateTime#, P_ContractAmount = #PContractAmount#, P_Auditors = #PAuditors#, P_Allocation = #PAllocation#, P_Plan = #PPlan#, P_Ratio = #PRatio#, P_Disclosure = #PDisclosure#, P_StartDate = #PStartDate#, P_EndDate = #PEndDate#, P_DesignChange = #PDesignChange#, P_DataIn = #PDataIn#, P_Completion = #PCompletion#, P_Manager = #PManager#, P_Tel = #PTel#, P_TeleComNO = #PTeleComNO# WHERE 1=1			 AND P_ID = #PID# 

    </update>
    <delete id="Delete" parameterClass="int">
      DELETE [dbo].[Tab_ProjectInfo] WHERE P_ID = #PID#
    </delete>

    <select id="FindById" parameterClass="int" resultMap="FullResultMap">
      SELECT * FROM [dbo].[Tab_ProjectInfo] WHERE P_ID = #PID#
    </select>

    <select id="Find" parameterClass="System.Collections.Hashtable" resultMap="FullResultMap">
      SELECT * FROM [dbo].[Tab_ProjectInfo] WHERE 1=1
      <dynamic>
        				<isNotNull prepend="and" property="PID">
					P_ID = #PID#
				</isNotNull>
				<isNotNull prepend="and" property="PNO">
					P_NO = #PNO#
				</isNotNull>
				<isNotNull prepend="and" property="PName">
					P_Name = #PName#
				</isNotNull>
				<isNotNull prepend="and" property="PConstruction">
					P_Construction = #PConstruction#
				</isNotNull>
				<isNotNull prepend="and" property="PBuilder">
					P_Builder = #PBuilder#
				</isNotNull>
				<isNotNull prepend="and" property="PState">
					P_State = #PState#
				</isNotNull>
				<isNotNull prepend="and" property="PCustomer">
					P_Customer = #PCustomer#
				</isNotNull>
				<isNotNull prepend="and" property="PCategory">
					P_Category = #PCategory#
				</isNotNull>
				<isNotNull prepend="and" property="PBusinessPlan">
					P_BusinessPlan = #PBusinessPlan#
				</isNotNull>
				<isNotNull prepend="and" property="PDateTime">
					P_DateTime = #PDateTime#
				</isNotNull>
				<isNotNull prepend="and" property="PContractAmount">
					P_ContractAmount = #PContractAmount#
				</isNotNull>
				<isNotNull prepend="and" property="PAuditors">
					P_Auditors = #PAuditors#
				</isNotNull>
				<isNotNull prepend="and" property="PAllocation">
					P_Allocation = #PAllocation#
				</isNotNull>
				<isNotNull prepend="and" property="PPlan">
					P_Plan = #PPlan#
				</isNotNull>
				<isNotNull prepend="and" property="PRatio">
					P_Ratio = #PRatio#
				</isNotNull>
				<isNotNull prepend="and" property="PDisclosure">
					P_Disclosure = #PDisclosure#
				</isNotNull>
				<isNotNull prepend="and" property="PStartDate">
					P_StartDate = #PStartDate#
				</isNotNull>
				<isNotNull prepend="and" property="PEndDate">
					P_EndDate = #PEndDate#
				</isNotNull>
				<isNotNull prepend="and" property="PDesignChange">
					P_DesignChange = #PDesignChange#
				</isNotNull>
				<isNotNull prepend="and" property="PDataIn">
					P_DataIn = #PDataIn#
				</isNotNull>
				<isNotNull prepend="and" property="PCompletion">
					P_Completion = #PCompletion#
				</isNotNull>
				<isNotNull prepend="and" property="PManager">
					P_Manager = #PManager#
				</isNotNull>
				<isNotNull prepend="and" property="PTel">
					P_Tel = #PTel#
				</isNotNull>
				<isNotNull prepend="and" property="PTeleComNO">
					P_TeleComNO = #PTeleComNO#
				</isNotNull>

      </dynamic>
    </select>

    <select id="FindCount" parameterClass="System.Collections.Hashtable" resultClass="int">
      SELECT COUNT(*) FROM [dbo].[Tab_ProjectInfo] WHERE 1=1
      <dynamic>
        				<isNotNull prepend="and" property="PID">
					P_ID = #PID#
				</isNotNull>
				<isNotNull prepend="and" property="PNO">
					P_NO = #PNO#
				</isNotNull>
				<isNotNull prepend="and" property="PName">
					P_Name = #PName#
				</isNotNull>
				<isNotNull prepend="and" property="PConstruction">
					P_Construction = #PConstruction#
				</isNotNull>
				<isNotNull prepend="and" property="PBuilder">
					P_Builder = #PBuilder#
				</isNotNull>
				<isNotNull prepend="and" property="PState">
					P_State = #PState#
				</isNotNull>
				<isNotNull prepend="and" property="PCustomer">
					P_Customer = #PCustomer#
				</isNotNull>
				<isNotNull prepend="and" property="PCategory">
					P_Category = #PCategory#
				</isNotNull>
				<isNotNull prepend="and" property="PBusinessPlan">
					P_BusinessPlan = #PBusinessPlan#
				</isNotNull>
				<isNotNull prepend="and" property="PDateTime">
					P_DateTime = #PDateTime#
				</isNotNull>
				<isNotNull prepend="and" property="PContractAmount">
					P_ContractAmount = #PContractAmount#
				</isNotNull>
				<isNotNull prepend="and" property="PAuditors">
					P_Auditors = #PAuditors#
				</isNotNull>
				<isNotNull prepend="and" property="PAllocation">
					P_Allocation = #PAllocation#
				</isNotNull>
				<isNotNull prepend="and" property="PPlan">
					P_Plan = #PPlan#
				</isNotNull>
				<isNotNull prepend="and" property="PRatio">
					P_Ratio = #PRatio#
				</isNotNull>
				<isNotNull prepend="and" property="PDisclosure">
					P_Disclosure = #PDisclosure#
				</isNotNull>
				<isNotNull prepend="and" property="PStartDate">
					P_StartDate = #PStartDate#
				</isNotNull>
				<isNotNull prepend="and" property="PEndDate">
					P_EndDate = #PEndDate#
				</isNotNull>
				<isNotNull prepend="and" property="PDesignChange">
					P_DesignChange = #PDesignChange#
				</isNotNull>
				<isNotNull prepend="and" property="PDataIn">
					P_DataIn = #PDataIn#
				</isNotNull>
				<isNotNull prepend="and" property="PCompletion">
					P_Completion = #PCompletion#
				</isNotNull>
				<isNotNull prepend="and" property="PManager">
					P_Manager = #PManager#
				</isNotNull>
				<isNotNull prepend="and" property="PTel">
					P_Tel = #PTel#
				</isNotNull>
				<isNotNull prepend="and" property="PTeleComNO">
					P_TeleComNO = #PTeleComNO#
				</isNotNull>

      </dynamic>
    </select>
    <!--添加工程信息的SQL语句-->
    <update id="UpdateExInfo" parameterClass="TabProjectInfo">
      UPDATE [dbo].[Tab_ProjectInfo] SET P_Disclosure = #PDisclosure#, P_StartDate = #PStartDate#, P_EndDate = #PEndDate#, P_DesignChange = #PDesignChange#, P_DataIn = #PDataIn#, P_Completion = #PCompletion#, P_Manager = #PManager#, P_Tel = #PTel#, P_TeleComNO = #PTeleComNO# WHERE 1=1			 AND P_ID = #PID#
    </update>
    <!--添加工程信息的SQL语句-END-->
    <!--添加成本计划的SQL语句-->
    <update id="UpdatePlan" parameterClass="TabProjectInfo">
      UPDATE [dbo].[Tab_ProjectInfo] SET P_Allocation = #PAllocation# WHERE 1=1 AND P_ID = #PID#
    </update>
    <!--添加成本计划的SQL语句-END-->
  </statements>
</sqlMap>