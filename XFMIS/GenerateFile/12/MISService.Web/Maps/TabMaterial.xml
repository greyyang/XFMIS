<?xml version="1.0" encoding="utf-8" ?>
<!--============================================================================
//	CAUTION: This file is generated by IBatisNetGen.BatisMap.cst at 2009-4-14 11:30:53
//				Any manual editing will be lost in re-generation.
//===========================================================================-->
<sqlMap namespace="TabMaterial"
	xmlns="http://ibatis.apache.org/mapping"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

  <alias>
    <typeAlias alias="TabMaterial" type="MISEntity.Entity.TabMaterial, MISEntity" />
  </alias>

  <resultMaps>
    <resultMap id="FullResultMap" class="TabMaterial">
      <result property="MID" column="M_ID" dbType="int"/>
			<result property="MName" column="M_Name" dbType="varchar"/>
			<result property="MType" column="M_Type" dbType="varchar"/>
			<result property="MUnit" column="M_Unit" dbType="varchar"/>
			<result property="MCode" column="M_Code" dbType="varchar"/>
			<result property="MMemo" column="M_Memo" dbType="varchar"/>
			<result property="MClass" column="M_Class" dbType="varchar"/>
			<result property="MCount" column="M_Count" dbType="decimal"/>

    </resultMap>
  </resultMaps>

  <statements>
    <insert id="Insert" parameterClass="TabMaterial">
      INSERT INTO Tab_Material([M_Name],[M_Type],[M_Unit],[M_Code],[M_Memo],[M_Class],[M_Count]) VALUES (#MName#,#MType#,#MUnit#,#MCode#,#MMemo#,#MClass#,#MCount#)
      <selectKey resultClass="int" type="post" property="MID" >
        select @@IDENTITY as value
      </selectKey>
    </insert>
    <update id="Update" parameterClass="TabMaterial">
      UPDATE Tab_Material SET M_Name = #MName#, M_Type = #MType#, M_Unit = #MUnit#, M_Code = #MCode#, M_Memo = #MMemo#, M_Class = #MClass#, M_Count = #MCount# WHERE 1=1			 AND M_ID = #MID# 

    </update>
    <delete id="Delete" parameterClass="int">
      DELETE [dbo].[Tab_Material] WHERE M_ID = #MID#
    </delete>

    <select id="FindById" parameterClass="int" resultMap="FullResultMap">
      SELECT * FROM [dbo].[Tab_Material] WHERE M_ID = #MID#
    </select>

    <select id="Find" parameterClass="System.Collections.Hashtable" resultMap="FullResultMap">
      SELECT * FROM [dbo].[Tab_Material] WHERE 1=1
      <dynamic>
        				<isNotNull prepend="and" property="MID">
					M_ID = #MID#
				</isNotNull>
				<isNotNull prepend="and" property="MName">
					M_Name = #MName#
				</isNotNull>
				<isNotNull prepend="and" property="MType">
					M_Type = #MType#
				</isNotNull>
				<isNotNull prepend="and" property="MUnit">
					M_Unit = #MUnit#
				</isNotNull>
				<isNotNull prepend="and" property="MCode">
					M_Code = #MCode#
				</isNotNull>
				<isNotNull prepend="and" property="MMemo">
					M_Memo = #MMemo#
				</isNotNull>
				<isNotNull prepend="and" property="MClass">
					M_Class = #MClass#
				</isNotNull>
				<isNotNull prepend="and" property="MCount">
					M_Count = #MCount#
				</isNotNull>

      </dynamic>
    </select>

    <select id="FindCount" parameterClass="System.Collections.Hashtable" resultClass="int">
      SELECT COUNT(*) FROM [dbo].[Tab_Material] WHERE 1=1
      <dynamic>
        				<isNotNull prepend="and" property="MID">
					M_ID = #MID#
				</isNotNull>
				<isNotNull prepend="and" property="MName">
					M_Name = #MName#
				</isNotNull>
				<isNotNull prepend="and" property="MType">
					M_Type = #MType#
				</isNotNull>
				<isNotNull prepend="and" property="MUnit">
					M_Unit = #MUnit#
				</isNotNull>
				<isNotNull prepend="and" property="MCode">
					M_Code = #MCode#
				</isNotNull>
				<isNotNull prepend="and" property="MMemo">
					M_Memo = #MMemo#
				</isNotNull>
				<isNotNull prepend="and" property="MClass">
					M_Class = #MClass#
				</isNotNull>
				<isNotNull prepend="and" property="MCount">
					M_Count = #MCount#
				</isNotNull>

      </dynamic>
    </select>
  </statements>
</sqlMap>