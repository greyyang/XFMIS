<?xml version="1.0" encoding="utf-8" ?>
<!--============================================================================
//	CAUTION: This file is generated by IBatisNetGen.BatisMap.cst at 2009-4-14 11:30:53
//				Any manual editing will be lost in re-generation.
//===========================================================================-->
<sqlMap namespace="TabBalance"
	xmlns="http://ibatis.apache.org/mapping"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

  <alias>
    <typeAlias alias="TabBalance" type="MISEntity.Entity.TabBalance, MISEntity" />
  </alias>

  <resultMaps>
    <resultMap id="FullResultMap" class="TabBalance">
      <result property="BLID" column="BL_ID" dbType="int"/>
			<result property="BLSubProjectID" column="BL_SubProjectID" dbType="int"/>
			<result property="BLDateTime" column="BL_DateTime" dbType="datetime"/>
			<result property="BLWorkOrder" column="BL_WorkOrder" dbType="varchar"/>
			<result property="BLPay" column="BL_Pay" dbType="decimal"/>
			<result property="BLPayCompany" column="BL_PayCompany" dbType="varchar"/>
			<result property="BLHandler" column="BL_Handler" dbType="varchar"/>
			<result property="BLBankNO" column="BL_BankNO" dbType="varchar"/>
			<result property="BLMemo" column="BL_Memo" dbType="varchar"/>

    </resultMap>
  </resultMaps>

  <statements>
    <insert id="Insert" parameterClass="TabBalance">
      INSERT INTO Tab_Balance([BL_SubProjectID],[BL_DateTime],[BL_WorkOrder],[BL_Pay],[BL_PayCompany],[BL_Handler],[BL_BankNO],[BL_Memo]) VALUES (#BLSubProjectID#,#BLDateTime#,#BLWorkOrder#,#BLPay#,#BLPayCompany#,#BLHandler#,#BLBankNO#,#BLMemo#)
      <selectKey resultClass="int" type="post" property="BLID" >
        select @@IDENTITY as value
      </selectKey>
    </insert>
    <update id="Update" parameterClass="TabBalance">
      UPDATE Tab_Balance SET BL_SubProjectID = #BLSubProjectID#, BL_DateTime = #BLDateTime#, BL_WorkOrder = #BLWorkOrder#, BL_Pay = #BLPay#, BL_PayCompany = #BLPayCompany#, BL_Handler = #BLHandler#, BL_BankNO = #BLBankNO#, BL_Memo = #BLMemo# WHERE 1=1			 AND BL_ID = #BLID# 

    </update>
    <delete id="Delete" parameterClass="int">
      DELETE [dbo].[Tab_Balance] WHERE BL_ID = #BLID#
    </delete>

    <select id="FindById" parameterClass="int" resultMap="FullResultMap">
      SELECT * FROM [dbo].[Tab_Balance] WHERE BL_ID = #BLID#
    </select>

    <select id="Find" parameterClass="System.Collections.Hashtable" resultMap="FullResultMap">
      SELECT * FROM [dbo].[Tab_Balance] WHERE 1=1
      <dynamic>
        				<isNotNull prepend="and" property="BLID">
					BL_ID = #BLID#
				</isNotNull>
				<isNotNull prepend="and" property="BLSubProjectID">
					BL_SubProjectID = #BLSubProjectID#
				</isNotNull>
				<isNotNull prepend="and" property="BLDateTime">
					BL_DateTime = #BLDateTime#
				</isNotNull>
				<isNotNull prepend="and" property="BLWorkOrder">
					BL_WorkOrder = #BLWorkOrder#
				</isNotNull>
				<isNotNull prepend="and" property="BLPay">
					BL_Pay = #BLPay#
				</isNotNull>
				<isNotNull prepend="and" property="BLPayCompany">
					BL_PayCompany = #BLPayCompany#
				</isNotNull>
				<isNotNull prepend="and" property="BLHandler">
					BL_Handler = #BLHandler#
				</isNotNull>
				<isNotNull prepend="and" property="BLBankNO">
					BL_BankNO = #BLBankNO#
				</isNotNull>
				<isNotNull prepend="and" property="BLMemo">
					BL_Memo = #BLMemo#
				</isNotNull>

      </dynamic>
    </select>

    <select id="FindCount" parameterClass="System.Collections.Hashtable" resultClass="int">
      SELECT COUNT(*) FROM [dbo].[Tab_Balance] WHERE 1=1
      <dynamic>
        				<isNotNull prepend="and" property="BLID">
					BL_ID = #BLID#
				</isNotNull>
				<isNotNull prepend="and" property="BLSubProjectID">
					BL_SubProjectID = #BLSubProjectID#
				</isNotNull>
				<isNotNull prepend="and" property="BLDateTime">
					BL_DateTime = #BLDateTime#
				</isNotNull>
				<isNotNull prepend="and" property="BLWorkOrder">
					BL_WorkOrder = #BLWorkOrder#
				</isNotNull>
				<isNotNull prepend="and" property="BLPay">
					BL_Pay = #BLPay#
				</isNotNull>
				<isNotNull prepend="and" property="BLPayCompany">
					BL_PayCompany = #BLPayCompany#
				</isNotNull>
				<isNotNull prepend="and" property="BLHandler">
					BL_Handler = #BLHandler#
				</isNotNull>
				<isNotNull prepend="and" property="BLBankNO">
					BL_BankNO = #BLBankNO#
				</isNotNull>
				<isNotNull prepend="and" property="BLMemo">
					BL_Memo = #BLMemo#
				</isNotNull>

      </dynamic>
    </select>
  </statements>
</sqlMap>